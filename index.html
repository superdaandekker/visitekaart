<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Digitale Visitekaart</title>
    <meta
      name="description"
      content="Bouw en deel eenvoudig een digitale visitekaart met AI-taglines."
    />
    <link rel="icon" href="/favicon.svg" />
    <script>
      if (!localStorage.getItem('user:email')) {
        window.location.replace('home.html');
      }
    </script>
  </head>
  <body>
    <div class="wrap">
      <header>
        <h1>Digitale Visitekaart</h1>
        <div class="actions">
          <button id="btnLogout" type="button">Uitloggen</button>
          <button id="btnShare" type="button">Delen</button>
          <button id="btnVCard" type="button">Download vCard</button>
        </div>
      </header>

      <main>
        <section class="card" aria-labelledby="previewTitle">
          <h2 id="previewTitle" class="muted">Voorbeeldkaart</h2>
          <div class="preview">
            <img id="avatarPreview" class="avatar" alt="Profielfoto" />
            <div>
              <div class="name" id="namePreview">Jouw Naam</div>
              <div class="title" id="titlePreview">Functie</div>
              <div class="company" id="companyPreview">Bedrijf</div>
              <div class="contact">
                <a href="#" id="emailLink">E‑mail</a>
                <a href="#" id="telLink">Telefoon</a>
                <a href="#" id="webLink">Website</a>
                <a href="#" id="liLink">LinkedIn</a>
                <a href="#" id="igLink">Instagram</a>
                <a href="#" id="xLink">X</a>
              </div>
            </div>
          </div>
          <p id="tagline"></p>
        </section>

        <section class="card" aria-labelledby="editTitle">
          <h2 id="editTitle" class="muted">Bewerken</h2>
          <form id="editForm">
            <div class="grid-2">
              <div>
                <label for="fieldName">Naam</label>
                <input id="fieldName" name="name" placeholder="Jouw Naam" />
              </div>
              <div>
                <label for="fieldTitle">Functie</label>
                <input id="fieldTitle" name="title" placeholder="Bijv. Founder" />
              </div>
            </div>
            <div class="grid-2">
              <div>
                <label for="fieldCompany">Bedrijf</label>
                <input id="fieldCompany" name="company" placeholder="Bedrijfsnaam" />
              </div>
              <div>
                <label for="fieldWebsite">Website</label>
                <input id="fieldWebsite" name="website" placeholder="https://..." />
              </div>
            </div>
            <div class="grid-2">
              <div>
                <label for="fieldEmail">E‑mail</label>
                <input id="fieldEmail" name="email" type="email" placeholder="jij@voorbeeld.nl" />
              </div>
              <div>
                <label for="fieldPhone">Telefoon</label>
                <input id="fieldPhone" name="phone" placeholder="+31..." />
              </div>
            </div>
            <div class="grid-2">
              <div>
                <label for="fieldLinkedIn">LinkedIn</label>
                <input id="fieldLinkedIn" name="linkedin" placeholder="https://linkedin.com/in/..." />
              </div>
              <div>
                <label for="fieldInstagram">Instagram</label>
                <input id="fieldInstagram" name="instagram" placeholder="https://instagram.com/..." />
              </div>
            </div>
            <div class="grid-2">
              <div>
                <label for="fieldX">X (Twitter)</label>
                <input id="fieldX" name="x" placeholder="https://x.com/..." />
              </div>
              <div aria-hidden="true"></div>
            </div>
            <div>
              <label for="fieldAvatar">Profielfoto (URL)</label>
              <input id="fieldAvatar" name="avatar" placeholder="https://...jpg" />
            </div>
            <div>
              <label for="fieldBio">Korte bio / tagline</label>
              <textarea id="fieldBio" name="bio" rows="3" placeholder="Wat doe jij?"></textarea>
            </div>
            <div class="row">
              <button id="btnGenerate" type="button">Genereer tagline met AI</button>
              <span class="pill">OpenAI-sleutel vereist</span>
            </div>
          </form>
          <div class="notice" role="status">
            Configureer het endpoint <code>/api/generate</code> met een OpenAI-sleutel om automatisch een tagline te genereren.
          </div>
        </section>
      </main>

      <footer>
        <p>
          Bewaar je wijzigingen lokaal en deel je kaart. De AI-functie gebruikt het serverless endpoint met
          <code>OPENAI_API_KEY</code>.
        </p>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
